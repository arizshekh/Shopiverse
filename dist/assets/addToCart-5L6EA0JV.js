import"./modulepreload-polyfill-B5Qt9EMX.js";import{g as d,s as C,u as P,p as q}from"./navbarUpdate-wHYsxyFO.js";const f=(r,e)=>{let c=d().find(l=>l.id===r),n=1;return c&&(n=c.quantity,e=c.price),{quantity:n,price:e}},y=()=>{let r=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),n=d().reduce((l,u)=>{let t=parseInt(u.price)||0;return l+t},0);r.textContent=`₹${n}`,e.textContent=`₹${n+50}`},g=(r,e,o,c)=>{const n=document.querySelector(`#card${e}`),l=n.querySelector(".productQuantity"),u=n.querySelector(".productPrice");let t=1,a=0,i=d(),p=i.find(m=>m.id===e);p?(t=p.quantity,a=p.price):(a=c,c=c),r.target.className==="cartIncrement"&&(t<o?t+=1:t===o&&(t=o,a=c*o)),r.target.className==="cartDecrement"&&t>1&&(t-=1),a=c*t,a=Number(a.toFixed(2));let s={id:e,quantity:t,price:a};s=i.map(m=>m.id===e?s:m),console.log(s),localStorage.setItem("cartProductLS",JSON.stringify(s)),l.innerText=t,u.innerText=a,y()},x=r=>{let e=d();e=e.filter(c=>c.id!==r),localStorage.setItem("cartProductLS",JSON.stringify(e));let o=document.getElementById(`card${r}`);o&&(o.remove(),C("delete",r)),y(),P(e)};let T=d(),S=q.filter(r=>T.some(e=>e.id===r.id));console.log(S);const E=document.querySelector("#productCartContainer"),N=document.querySelector("#productCartTemplate"),v=()=>{S.forEach(r=>{const{category:e,id:o,image:c,name:n,stock:l,price:u}=r;let t=document.importNode(N.content,!0);const a=f(o,u);t.querySelector("#cardValue").setAttribute("id",`card${o}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=n,t.querySelector(".productImage").src=c,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=a.price,t.querySelector(".stockElement").addEventListener("click",i=>{g(i,o,l,u)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>x(o)),E.appendChild(t)})};v();y();
